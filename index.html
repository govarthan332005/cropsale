<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NotifyPro - Advanced Notification Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <meta name="theme-color" content="#3B82F6">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="NotifyPro">
    <link rel="manifest" href="data:application/json,{
        'name': 'NotifyPro',
        'short_name': 'NotifyPro',
        'description': 'Advanced Notification Manager',
        'start_url': '/',
        'display': 'standalone',
        'background_color': '#ffffff',
        'theme_color': '#3B82F6',
        'icons': [
            {
                'src': 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9IiMzQjgyRjYiLz4KPHBhdGggZD0iTTk2IDQ4QzExNC4zMjggNDggMTI5IDYyLjY3MiAxMjkgODFWMTA3QzEyOSAxMjUuMzI4IDExNC4zMjggMTQwIDk2IDE0MEg5NkM3Ny42NzIgMTQwIDYzIDEyNS4zMjggNjMgMTA3Vjg1QzYzIDcxLjc0NTIgNzMuNzQ1MiA2MSA4NyA2MUgxMDVDMTEwLjUyMyA2MSAxMTUgNjUuNDc3MiAxMTUgNzFWMTA3QzExNSAxMTIuNTIzIDExMC41MjMgMTE3IDEwNSAxMTdIODdDODQuMjM4NiAxMTcgODIgMTE0Ljc2MSA4MiAxMTJWODVDODIgODIuMjM4NiA4NC4yMzg2IDgwIDg3IDgwSDEwNSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSI4IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+',
                'sizes': '192x192',
                'type': 'image/svg+xml'
            }
        ]
    }">
    <style>
        .notification-card {
            transition: all 0.3s ease;
            transform: translateX(0);
        }
        .notification-card.slide-out {
            transform: translateX(-100%);
            opacity: 0;
        }
        .floating-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
        }
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .screen {
            display: none;
        }
        .screen.active {
            display: block;
        }
        .tab-bar {
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }
        .notification-icon {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #EF4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .category-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        .time-picker {
            -webkit-appearance: none;
            -moz-appearance: textfield;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #3B82F6;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Main App Container -->
    <div id="app" class="max-w-md mx-auto bg-white min-h-screen relative">
        
        <!-- Header -->
        <header class="bg-blue-600 text-white p-4 sticky top-0 z-10">
            <div class="flex justify-between items-center">
                <h1 class="text-xl font-bold">NotifyPro</h1>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <i class="fas fa-bell notification-icon text-xl"></i>
                        <span id="notificationBadge" class="badge" style="display: none;">0</span>
                    </div>
                    <button id="settingsBtn" class="p-2 rounded-full hover:bg-blue-700">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Permission Alert -->
        <div id="permissionAlert" class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 hidden">
            <div class="flex">
                <div class="flex-shrink-0">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm">
                        Notification permission required for full functionality.
                        <button id="enableNotifications" class="font-medium underline">Enable now</button>
                    </p>
                </div>
            </div>
        </div>

        <!-- Home Screen -->
        <div id="homeScreen" class="screen active pb-20">
            <!-- Quick Stats -->
            <div class="p-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white">
                <div class="grid grid-cols-3 gap-4">
                    <div class="text-center">
                        <div class="text-2xl font-bold" id="totalNotifications">0</div>
                        <div class="text-sm opacity-80">Total</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold" id="activeNotifications">0</div>
                        <div class="text-sm opacity-80">Active</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold" id="scheduledNotifications">0</div>
                        <div class="text-sm opacity-80">Scheduled</div>
                    </div>
                </div>
            </div>

            <!-- Recent Notifications -->
            <div class="p-4">
                <h2 class="text-lg font-semibold mb-3">Recent Notifications</h2>
                <div id="recentNotifications" class="space-y-3">
                    <!-- Recent notifications will be populated here -->
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="p-4">
                <h2 class="text-lg font-semibold mb-3">Quick Actions</h2>
                <div class="grid grid-cols-2 gap-3">
                    <button id="quickReminderBtn" class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-lg flex flex-col items-center">
                        <i class="fas fa-clock text-2xl mb-2"></i>
                        <span>Quick Reminder</span>
                    </button>
                    <button id="testNotificationBtn" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-lg flex flex-col items-center">
                        <i class="fas fa-bell text-2xl mb-2"></i>
                        <span>Test Notification</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Notifications Screen -->
        <div id="notificationsScreen" class="screen pb-20">
            <!-- Filter Bar -->
            <div class="p-4 bg-gray-100 border-b">
                <div class="flex space-x-2">
                    <select id="categoryFilter" class="flex-1 p-2 border rounded">
                        <option value="">All Categories</option>
                    </select>
                    <select id="statusFilter" class="flex-1 p-2 border rounded">
                        <option value="">All Status</option>
                        <option value="active">Active</option>
                        <option value="completed">Completed</option>
                        <option value="scheduled">Scheduled</option>
                    </select>
                </div>
            </div>

            <!-- Notifications List -->
            <div id="notificationsList" class="p-4">
                <!-- Notifications will be populated here -->
            </div>
        </div>

        <!-- Settings Screen -->
        <div id="settingsScreen" class="screen pb-20">
            <div class="p-4 space-y-6">
                <!-- General Settings -->
                <div>
                    <h2 class="text-lg font-semibold mb-3">General Settings</h2>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <label class="text-sm font-medium">Enable Notifications</label>
                            <label class="switch">
                                <input type="checkbox" id="notificationToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="flex justify-between items-center">
                            <label class="text-sm font-medium">Sound Notifications</label>
                            <label class="switch">
                                <input type="checkbox" id="soundToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="flex justify-between items-center">
                            <label class="text-sm font-medium">Vibration</label>
                            <label class="switch">
                                <input type="checkbox" id="vibrationToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Default Settings -->
                <div>
                    <h2 class="text-lg font-semibold mb-3">Default Settings</h2>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Default Category</label>
                            <select id="defaultCategory" class="w-full p-2 border rounded">
                                <option value="general">General</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Default Reminder Time</label>
                            <select id="defaultReminderTime" class="w-full p-2 border rounded">
                                <option value="5">5 minutes</option>
                                <option value="15">15 minutes</option>
                                <option value="30">30 minutes</option>
                                <option value="60">1 hour</option>
                                <option value="1440">1 day</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Categories Management -->
                <div>
                    <h2 class="text-lg font-semibold mb-3">Categories</h2>
                    <div id="categoriesList" class="space-y-2 mb-4">
                        <!-- Categories will be populated here -->
                    </div>
                    <button id="addCategoryBtn" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded">
                        <i class="fas fa-plus mr-2"></i>Add Category
                    </button>
                </div>

                <!-- Data Management -->
                <div>
                    <h2 class="text-lg font-semibold mb-3">Data Management</h2>
                    <div class="space-y-2">
                        <button id="exportDataBtn" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded">
                            <i class="fas fa-download mr-2"></i>Export Data
                        </button>
                        <button id="importDataBtn" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded">
                            <i class="fas fa-upload mr-2"></i>Import Data
                        </button>
                        <button id="clearDataBtn" class="w-full bg-red-500 hover:bg-red-600 text-white p-3 rounded">
                            <i class="fas fa-trash mr-2"></i>Clear All Data
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Screen -->
        <div id="historyScreen" class="screen pb-20">
            <div class="p-4">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-lg font-semibold">Notification History</h2>
                    <button id="clearHistoryBtn" class="text-red-500 hover:text-red-700">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                <div id="historyList" class="space-y-3">
                    <!-- History items will be populated here -->
                </div>
            </div>
        </div>

        <!-- Floating Action Button -->
        <button id="fabBtn" class="floating-btn bg-blue-600 hover:bg-blue-700 text-white w-14 h-14 rounded-full flex items-center justify-center">
            <i class="fas fa-plus text-xl"></i>
        </button>

        <!-- Bottom Tab Bar -->
        <div class="tab-bar fixed bottom-0 left-0 right-0 bg-white border-t max-w-md mx-auto">
            <div class="flex">
                <button class="tab-btn flex-1 py-3 px-4 text-center active" data-screen="homeScreen">
                    <i class="fas fa-home block mb-1"></i>
                    <span class="text-xs">Home</span>
                </button>
                <button class="tab-btn flex-1 py-3 px-4 text-center" data-screen="notificationsScreen">
                    <i class="fas fa-bell block mb-1"></i>
                    <span class="text-xs">Notifications</span>
                </button>
                <button class="tab-btn flex-1 py-3 px-4 text-center" data-screen="historyScreen">
                    <i class="fas fa-history block mb-1"></i>
                    <span class="text-xs">History</span>
                </button>
                <button class="tab-btn flex-1 py-3 px-4 text-center" data-screen="settingsScreen">
                    <i class="fas fa-cog block mb-1"></i>
                    <span class="text-xs">Settings</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Create Notification Modal -->
    <div id="createNotificationModal" class="modal">
        <div class="bg-white rounded-lg p-6 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Create Notification</h3>
                <button id="closeCreateModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="createNotificationForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Title</label>
                    <input type="text" id="notificationTitle" class="w-full p-2 border rounded" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Message</label>
                    <textarea id="notificationMessage" class="w-full p-2 border rounded" rows="3" required></textarea>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Category</label>
                    <select id="notificationCategory" class="w-full p-2 border rounded">
                        <option value="general">General</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Schedule Type</label>
                    <select id="scheduleType" class="w-full p-2 border rounded">
                        <option value="now">Send Now</option>
                        <option value="scheduled">Schedule for Later</option>
                        <option value="recurring">Recurring</option>
                    </select>
                </div>
                
                <div id="scheduleOptions" class="space-y-4" style="display: none;">
                    <div>
                        <label class="block text-sm font-medium mb-2">Date</label>
                        <input type="date" id="scheduleDate" class="w-full p-2 border rounded">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Time</label>
                        <input type="time" id="scheduleTime" class="w-full p-2 border rounded">
                    </div>
                </div>
                
                <div id="recurringOptions" class="space-y-4" style="display: none;">
                    <div>
                        <label class="block text-sm font-medium mb-2">Repeat</label>
                        <select id="recurringType" class="w-full p-2 border rounded">
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Start Time</label>
                        <input type="time" id="recurringTime" class="w-full p-2 border rounded">
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button type="button" id="cancelCreateModal" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 p-3 rounded">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded">
                        Create
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Category Modal -->
    <div id="categoryModal" class="modal">
        <div class="bg-white rounded-lg p-6 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Add Category</h3>
                <button id="closeCategoryModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="categoryForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Category Name</label>
                    <input type="text" id="categoryName" class="w-full p-2 border rounded" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Color</label>
                    <div class="grid grid-cols-6 gap-2">
                        <div class="w-10 h-10 bg-red-500 rounded-full cursor-pointer category-color-option" data-color="#EF4444"></div>
                        <div class="w-10 h-10 bg-blue-500 rounded-full cursor-pointer category-color-option" data-color="#3B82F6"></div>
                        <div class="w-10 h-10 bg-green-500 rounded-full cursor-pointer category-color-option" data-color="#10B981"></div>
                        <div class="w-10 h-10 bg-yellow-500 rounded-full cursor-pointer category-color-option" data-color="#F59E0B"></div>
                        <div class="w-10 h-10 bg-purple-500 rounded-full cursor-pointer category-color-option" data-color="#8B5CF6"></div>
                        <div class="w-10 h-10 bg-pink-500 rounded-full cursor-pointer category-color-option" data-color="#EC4899"></div>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button type="button" id="cancelCategoryModal" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 p-3 rounded">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded">
                        Add
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Quick Reminder Modal -->
    <div id="quickReminderModal" class="modal">
        <div class="bg-white rounded-lg p-6 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Quick Reminder</h3>
                <button id="closeQuickReminderModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="quickReminderForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Reminder Text</label>
                    <input type="text" id="quickReminderText" class="w-full p-2 border rounded" placeholder="What do you want to be reminded of?" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Remind me in:</label>
                    <div class="grid grid-cols-2 gap-2">
                        <button type="button" class="quick-time-btn bg-gray-200 hover:bg-gray-300 p-3 rounded" data-minutes="5">5 minutes</button>
                        <button type="button" class="quick-time-btn bg-gray-200 hover:bg-gray-300 p-3 rounded" data-minutes="15">15 minutes</button>
                        <button type="button" class="quick-time-btn bg-gray-200 hover:bg-gray-300 p-3 rounded" data-minutes="30">30 minutes</button>
                        <button type="button" class="quick-time-btn bg-gray-200 hover:bg-gray-300 p-3 rounded" data-minutes="60">1 hour</button>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button type="button" id="cancelQuickReminderModal" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 p-3 rounded">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded">
                        Set Reminder
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // App State Management
        class NotificationApp {
            constructor() {
                this.notifications = JSON.parse(localStorage.getItem('notifications')) || [];
                this.categories = JSON.parse(localStorage.getItem('categories')) || [
                    { id: 'general', name: 'General', color: '#3B82F6' },
                    { id: 'work', name: 'Work', color: '#10B981' },
                    { id: 'personal', name: 'Personal', color: '#F59E0B' },
                    { id: 'health', name: 'Health', color: '#EF4444' }
                ];
                this.settings = JSON.parse(localStorage.getItem('settings')) || {
                    notificationsEnabled: true,
                    soundEnabled: true,
                    vibrationEnabled: true,
                    defaultCategory: 'general',
                    defaultReminderTime: 15
                };
                this.history = JSON.parse(localStorage.getItem('history')) || [];
                this.currentScreen = 'homeScreen';
                this.scheduledNotifications = new Map();
                this.init();
            }

            init() {
                this.registerServiceWorker();
                this.requestNotificationPermission();
                this.setupEventListeners();
                this.updateUI();
                this.restoreScheduledNotifications();
            }

            async registerServiceWorker() {
                if ('serviceWorker' in navigator) {
                    try {
                        const registration = await navigator.serviceWorker.register(`
                            data:text/javascript;base64,${btoa(`
                                self.addEventListener('push', function(event) {
                                    const data = event.data ? event.data.json() : {};
                                    const options = {
                                        body: data.body || 'New notification',
                                        icon: data.icon || '/favicon.ico',
                                        badge: data.badge || '/favicon.ico',
                                        vibrate: data.vibrate || [100, 50, 100],
                                        data: data.data || {}
                                    };
                                    
                                    event.waitUntil(
                                        self.registration.showNotification(data.title || 'NotifyPro', options)
                                    );
                                });
                                
                                self.addEventListener('notificationclick', function(event) {
                                    event.notification.close();
                                    event.waitUntil(
                                        clients.openWindow('/')
                                    );
                                });
                            `)}
                        `);
                        console.log('Service Worker registered');
                    } catch (error) {
                        console.error('Service Worker registration failed:', error);
                    }
                }
            }

            async requestNotificationPermission() {
                if ('Notification' in window) {
                    const permission = await Notification.requestPermission();
                    if (permission === 'denied') {
                        document.getElementById('permissionAlert').classList.remove('hidden');
                    }
                }
            }

            setupEventListeners() {
                // Tab navigation
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const screen = e.currentTarget.dataset.screen;
                        this.switchScreen(screen);
                    });
                });

                // FAB button
                document.getElementById('fabBtn').addEventListener('click', () => {
                    this.showCreateNotificationModal();
                });

                // Modal controls
                document.getElementById('closeCreateModal').addEventListener('click', () => {
                    this.hideCreateNotificationModal();
                });

                document.getElementById('cancelCreateModal').addEventListener('click', () => {
                    this.hideCreateNotificationModal();
                });

                // Create notification form
                document.getElementById('createNotificationForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.createNotification();
                });

                // Schedule type change
                document.getElementById('scheduleType').addEventListener('change', (e) => {
                    this.handleScheduleTypeChange(e.target.value);
                });

                // Settings toggles
                document.getElementById('notificationToggle').addEventListener('change', (e) => {
                    this.settings.notificationsEnabled = e.target.checked;
                    this.saveSettings();
                });

                document.getElementById('soundToggle').addEventListener('change', (e) => {
                    this.settings.soundEnabled = e.target.checked;
                    this.saveSettings();
                });

                document.getElementById('vibrationToggle').addEventListener('change', (e) => {
                    this.settings.vibrationEnabled = e.target.checked;
                    this.saveSettings();
                });

                // Category management
                document.getElementById('addCategoryBtn').addEventListener('click', () => {
                    this.showCategoryModal();
                });

                document.getElementById('closeCategoryModal').addEventListener('click', () => {
                    this.hideCategoryModal();
                });

                document.getElementById('cancelCategoryModal').addEventListener('click', () => {
                    this.hideCategoryModal();
                });

                document.getElementById('categoryForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.addCategory();
                });

                // Category color selection
                document.querySelectorAll('.category-color-option').forEach(option => {
                    option.addEventListener('click', (e) => {
                        document.querySelectorAll('.category-color-option').forEach(el => el.classList.remove('ring-4', 'ring-blue-500'));
                        e.target.classList.add('ring-4', 'ring-blue-500');
                    });
                });

                // Quick reminder
                document.getElementById('quickReminderBtn').addEventListener('click', () => {
                    this.showQuickReminderModal();
                });

                document.getElementById('closeQuickReminderModal').addEventListener('click', () => {
                    this.hideQuickReminderModal();
                });

                document.getElementById('cancelQuickReminderModal').addEventListener('click', () => {
                    this.hideQuickReminderModal();
                });

                document.getElementById('quickReminderForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.createQuickReminder();
                });

                // Quick time buttons
                document.querySelectorAll('.quick-time-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.quick-time-btn').forEach(el => el.classList.remove('bg-blue-500', 'text-white'));
                        e.target.classList.add('bg-blue-500', 'text-white');
                    });
                });

                // Test notification
                document.getElementById('testNotificationBtn').addEventListener('click', () => {
                    this.sendTestNotification();
                });

                // Enable notifications
                document.getElementById('enableNotifications').addEventListener('click', () => {
                    this.requestNotificationPermission();
                });

                // Data management
                document.getElementById('exportDataBtn').addEventListener('click', () => {
                    this.exportData();
                });

                document.getElementById('importDataBtn').addEventListener('click', () => {
                    this.importData();
                });

                document.getElementById('clearDataBtn').addEventListener('click', () => {
                    this.clearAllData();
                });

                // Filter changes
                document.getElementById('categoryFilter').addEventListener('change', () => {
                    this.updateNotificationsList();
                });

                document.getElementById('statusFilter').addEventListener('change', () => {
                    this.updateNotificationsList();
                });

                // Clear history
                document.getElementById('clearHistoryBtn').addEventListener('click', () => {
                    this.clearHistory();
                });
            }

            switchScreen(screenId) {
                // Hide all screens
                document.querySelectorAll('.screen').forEach(screen => {
                    screen.classList.remove('active');
                });

                // Show selected screen
                document.getElementById(screenId).classList.add('active');

                // Update tab states
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active', 'text-blue-600');
                    btn.classList.add('text-gray-600');
                });

                const activeTab = document.querySelector(`[data-screen="${screenId}"]`);
                if (activeTab) {
                    activeTab.classList.add('active', 'text-blue-600');
                    activeTab.classList.remove('text-gray-600');
                }

                this.currentScreen = screenId;
                this.updateUI();
            }

            showCreateNotificationModal() {
                document.getElementById('createNotificationModal').classList.add('active');
                this.populateCategoryDropdown();
            }

            hideCreateNotificationModal() {
                document.getElementById('createNotificationModal').classList.remove('active');
                document.getElementById('createNotificationForm').reset();
                document.getElementById('scheduleOptions').style.display = 'none';
                document.getElementById('recurringOptions').style.display = 'none';
            }

            showCategoryModal() {
                document.getElementById('categoryModal').classList.add('active');
                // Reset color selection
                document.querySelectorAll('.category-color-option').forEach(el => el.classList.remove('ring-4', 'ring-blue-500'));
                document.querySelector('.category-color-option[data-color="#3B82F6"]').classList.add('ring-4', 'ring-blue-500');
            }

            hideCategoryModal() {
                document.getElementById('categoryModal').classList.remove('active');
                document.getElementById('categoryForm').reset();
            }

            showQuickReminderModal() {
                document.getElementById('quickReminderModal').classList.add('active');
            }

            hideQuickReminderModal() {
                document.getElementById('quickReminderModal').classList.remove('active');
                document.getElementById('quickReminderForm').reset();
                document.querySelectorAll('.quick-time-btn').forEach(el => el.classList.remove('bg-blue-500', 'text-white'));
            }

            handleScheduleTypeChange(type) {
                const scheduleOptions = document.getElementById('scheduleOptions');
                const recurringOptions = document.getElementById('recurringOptions');
                
                scheduleOptions.style.display = 'none';
                recurringOptions.style.display = 'none';
                
                if (type === 'scheduled') {
                    scheduleOptions.style.display = 'block';
                    // Set default to today
                    const today = new Date().toISOString().split('T')[0];
                    document.getElementById('scheduleDate').value = today;
                } else if (type === 'recurring') {
                    recurringOptions.style.display = 'block';
                }
            }

            createNotification() {
                const formData = new FormData(document.getElementById('createNotificationForm'));
                const title = document.getElementById('notificationTitle').value;
                const message = document.getElementById('notificationMessage').value;
                const category = document.getElementById('notificationCategory').value;
                const scheduleType = document.getElementById('scheduleType').value;
                
                const notification = {
                    id: Date.now().toString(),
                    title,
                    message,
                    category,
                    scheduleType,
                    status: 'active',
                    createdAt: new Date().toISOString(),
                    scheduledAt: null,
                    recurring: null
                };

                if (scheduleType === 'scheduled') {
                    const date = document.getElementById('scheduleDate').value;
                    const time = document.getElementById('scheduleTime').value;
                    notification.scheduledAt = new Date(`${date}T${time}`).toISOString();
                    notification.status = 'scheduled';
                } else if (scheduleType === 'recurring') {
                    const recurringType = document.getElementById('recurringType').value;
                    const recurringTime = document.getElementById('recurringTime').value;
                    notification.recurring = {
                        type: recurringType,
                        time: recurringTime
                    };
                    notification.status = 'recurring';
                }

                this.notifications.push(notification);
                this.saveNotifications();
                
                if (scheduleType === 'now') {
                    this.sendNotification(notification);
                } else {
                    this.scheduleNotification(notification);
                }
                
                this.updateUI();
                this.hideCreateNotificationModal();
                this.showToast('Notification created successfully!');
            }

            createQuickReminder() {
                const text = document.getElementById('quickReminderText').value;
                const selectedBtn = document.querySelector('.quick-time-btn.bg-blue-500');
                
                if (!selectedBtn) {
                    this.showToast('Please select a time for the reminder', 'error');
                    return;
                }
                
                const minutes = parseInt(selectedBtn.dataset.minutes);
                const scheduledAt = new Date(Date.now() + minutes * 60 * 1000);
                
                const notification = {
                    id: Date.now().toString(),
                    title: 'Quick Reminder',
                    message: text,
                    category: 'general',
                    scheduleType: 'scheduled',
                    status: 'scheduled',
                    createdAt: new Date().toISOString(),
                    scheduledAt: scheduledAt.toISOString(),
                    recurring: null
                };
                
                this.notifications.push(notification);
                this.saveNotifications();
                this.scheduleNotification(notification);
                this.updateUI();
                this.hideQuickReminderModal();
                this.showToast(`Reminder set for ${minutes} minutes from now!`);
            }

            addCategory() {
                const name = document.getElementById('categoryName').value;
                const selectedColor = document.querySelector('.category-color-option.ring-4');
                const color = selectedColor ? selectedColor.dataset.color : '#3B82F6';
                
                const category = {
                    id: name.toLowerCase().replace(/\s+/g, '-'),
                    name,
                    color
                };
                
                this.categories.push(category);
                this.saveCategories();
                this.updateUI();
                this.hideCategoryModal();
                this.showToast('Category added successfully!');
            }

            sendNotification(notification) {
                if (!this.settings.notificationsEnabled) return;
                
                if ('Notification' in window && Notification.permission === 'granted') {
                    const options = {
                        body: notification.message,
                        icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9IiMzQjgyRjYiLz4KPHBhdGggZD0iTTk2IDQ4QzExNC4zMjggNDggMTI5IDYyLjY3MiAxMjkgODFWMTA3QzEyOSAxMjUuMzI4IDExNC4zMjggMTQwIDk2IDE0MEg5NkM3Ny42NzIgMTQwIDYzIDEyNS4zMjggNjMgMTA3Vjg1QzYzIDcxLjc0NTIgNzMuNzQ1MiA2MSA4NyA2MUgxMDVDMTEwLjUyMyA2MSAxMTUgNjUuNDc3MiAxMTUgNzFWMTA3QzExNSAxMTIuNTIzIDExMC41MjMgMTE3IDEwNSAxMTdIODdDODQuMjM4NiAxMTcgODIgMTE0Ljc2MSA4MiAxMTJWODVDODIgODIuMjM4NiA4NC4yMzg2IDgwIDg3IDgwSDEwNSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSI4IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+',
                        tag: notification.id,
                        vibrate: this.settings.vibrationEnabled ? [100, 50, 100] : undefined
                    };
                    
                    new Notification(notification.title, options);
                }
                
                // Add to history
                this.history.push({
                    ...notification,
                    sentAt: new Date().toISOString()
                });
                this.saveHistory();
                
                // Mark as completed if not recurring
                if (notification.scheduleType !== 'recurring') {
                    notification.status = 'completed';
                    this.saveNotifications();
                }
            }

            scheduleNotification(notification) {
                if (notification.scheduleType === 'scheduled') {
                    const scheduledTime = new Date(notification.scheduledAt);
                    const now = new Date();
                    const delay = scheduledTime.getTime() - now.getTime();
                    
                    if (delay > 0) {
                        const timeoutId = setTimeout(() => {
                            this.sendNotification(notification);
                            this.scheduledNotifications.delete(notification.id);
                        }, delay);
                        
                        this.scheduledNotifications.set(notification.id, timeoutId);
                    }
                } else if (notification.scheduleType === 'recurring') {
                    this.scheduleRecurringNotification(notification);
                }
            }

            scheduleRecurringNotification(notification) {
                const now = new Date();
                const [hours, minutes] = notification.recurring.time.split(':').map(Number);
                
                let nextTime = new Date(now);
                nextTime.setHours(hours, minutes, 0, 0);
                
                // If the time has passed today, schedule for tomorrow
                if (nextTime <= now) {
                    nextTime.setDate(nextTime.getDate() + 1);
                }
                
                const delay = nextTime.getTime() - now.getTime();
                
                const timeoutId = setTimeout(() => {
                    this.sendNotification(notification);
                    // Reschedule for next occurrence
                    this.scheduleRecurringNotification(notification);
                }, delay);
                
                this.scheduledNotifications.set(notification.id, timeoutId);
            }

            restoreScheduledNotifications() {
                this.notifications.forEach(notification => {
                    if (notification.status === 'scheduled' || notification.status === 'recurring') {
                        this.scheduleNotification(notification);
                    }
                });
            }

            sendTestNotification() {
                const testNotification = {
                    id: 'test-' + Date.now(),
                    title: 'Test Notification',
                    message: 'This is a test notification from NotifyPro!',
                    category: 'general',
                    scheduleType: 'now',
                    status: 'active',
                    createdAt: new Date().toISOString(),
                    scheduledAt: null,
                    recurring: null
                };
                
                this.sendNotification(testNotification);
                this.showToast('Test notification sent!');
            }

            deleteNotification(id) {
                // Cancel scheduled notification if exists
                if (this.scheduledNotifications.has(id)) {
                    clearTimeout(this.scheduledNotifications.get(id));
                    this.scheduledNotifications.delete(id);
                }
                
                this.notifications = this.notifications.filter(n => n.id !== id);
                this.saveNotifications();
                this.updateUI();
                this.showToast('Notification deleted');
            }

            toggleNotificationStatus(id) {
                const notification = this.notifications.find(n => n.id === id);
                if (notification) {
                    if (notification.status === 'active') {
                        notification.status = 'paused';
                        // Cancel scheduled notification
                        if (this.scheduledNotifications.has(id)) {
                            clearTimeout(this.scheduledNotifications.get(id));
                            this.scheduledNotifications.delete(id);
                        }
                    } else if (notification.status === 'paused') {
                        notification.status = 'active';
                        // Reschedule if needed
                        if (notification.scheduleType !== 'now') {
                            this.scheduleNotification(notification);
                        }
                    }
                    this.saveNotifications();
                    this.updateUI();
                }
            }

            populateCategoryDropdown() {
                const selects = [
                    document.getElementById('notificationCategory'),
                    document.getElementById('categoryFilter'),
                    document.getElementById('defaultCategory')
                ];
                
                selects.forEach(select => {
                    if (select) {
                        const currentValue = select.value;
                        select.innerHTML = '';
                        
                        if (select.id === 'categoryFilter') {
                            select.innerHTML = '<option value="">All Categories</option>';
                        }
                        
                        this.categories.forEach(category => {
                            const option = document.createElement('option');
                            option.value = category.id;
                            option.textContent = category.name;
                            select.appendChild(option);
                        });
                        
                        if (currentValue) {
                            select.value = currentValue;
                        }
                    }
                });
            }

            updateUI() {
                this.updateStats();
                this.updateRecentNotifications();
                this.updateNotificationsList();
                this.updateCategoriesList();
                this.updateHistoryList();
                this.updateSettings();
                this.populateCategoryDropdown();
                this.updateNotificationBadge();
            }

            updateStats() {
                const total = this.notifications.length;
                const active = this.notifications.filter(n => n.status === 'active' || n.status === 'recurring').length;
                const scheduled = this.notifications.filter(n => n.status === 'scheduled').length;
                
                document.getElementById('totalNotifications').textContent = total;
                document.getElementById('activeNotifications').textContent = active;
                document.getElementById('scheduledNotifications').textContent = scheduled;
            }

            updateRecentNotifications() {
                const recentContainer = document.getElementById('recentNotifications');
                const recent = this.notifications.slice(-5).reverse();
                
                if (recent.length === 0) {
                    recentContainer.innerHTML = '<p class="text-gray-500 text-center py-8">No notifications yet. Create your first notification!</p>';
                    return;
                }
                
                recentContainer.innerHTML = recent.map(notification => {
                    const category = this.categories.find(c => c.id === notification.category);
                    return `
                        <div class="bg-white rounded-lg p-4 shadow-sm border notification-card">
                            <div class="flex items-start justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center mb-1">
                                        <div class="category-color" style="background-color: ${category?.color || '#3B82F6'}"></div>
                                        <h3 class="font-semibold">${notification.title}</h3>
                                    </div>
                                    <p class="text-gray-600 text-sm mb-2">${notification.message}</p>
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-gray-500">${this.formatDate(notification.createdAt)}</span>
                                        <span class="text-xs px-2 py-1 rounded-full ${this.getStatusColor(notification.status)}">${notification.status}</span>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2 ml-4">
                                    <button onclick="app.toggleNotificationStatus('${notification.id}')" class="text-blue-500 hover:text-blue-700">
                                        <i class="fas fa-${notification.status === 'active' ? 'pause' : 'play'}"></i>
                                    </button>
                                    <button onclick="app.deleteNotification('${notification.id}')" class="text-red-500 hover:text-red-700">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            updateNotificationsList() {
                const container = document.getElementById('notificationsList');
                const categoryFilter = document.getElementById('categoryFilter')?.value || '';
                const statusFilter = document.getElementById('statusFilter')?.value || '';
                
                let filtered = this.notifications;
                
                if (categoryFilter) {
                    filtered = filtered.filter(n => n.category === categoryFilter);
                }
                
                if (statusFilter) {
                    filtered = filtered.filter(n => n.status === statusFilter);
                }
                
                if (filtered.length === 0) {
                    container.innerHTML = '<p class="text-gray-500 text-center py-8">No notifications found.</p>';
                    return;
                }
                
                container.innerHTML = filtered.map(notification => {
                    const category = this.categories.find(c => c.id === notification.category);
                    return `
                        <div class="bg-white rounded-lg p-4 shadow-sm border notification-card mb-3">
                            <div class="flex items-start justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center mb-1">
                                        <div class="category-color" style="background-color: ${category?.color || '#3B82F6'}"></div>
                                        <h3 class="font-semibold">${notification.title}</h3>
                                    </div>
                                    <p class="text-gray-600 text-sm mb-2">${notification.message}</p>
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-gray-500">${this.formatDate(notification.createdAt)}</span>
                                        <span class="text-xs px-2 py-1 rounded-full ${this.getStatusColor(notification.status)}">${notification.status}</span>
                                    </div>
                                    ${notification.scheduledAt ? `<p class="text-xs text-gray-500 mt-1">Scheduled: ${this.formatDate(notification.scheduledAt)}</p>` : ''}
                                </div>
                                <div class="flex items-center space-x-2 ml-4">
                                    <button onclick="app.toggleNotificationStatus('${notification.id}')" class="text-blue-500 hover:text-blue-700">
                                        <i class="fas fa-${notification.status === 'active' ? 'pause' : 'play'}"></i>
                                    </button>
                                    <button onclick="app.deleteNotification('${notification.id}')" class="text-red-500 hover:text-red-700">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            updateCategoriesList() {
                const container = document.getElementById('categoriesList');
                container.innerHTML = this.categories.map(category => `
                    <div class="flex items-center justify-between p-2 border rounded">
                        <div class="flex items-center">
                            <div class="category-color" style="background-color: ${category.color}"></div>
                            <span>${category.name}</span>
                        </div>
                        ${category.id !== 'general' ? `
                            <button onclick="app.deleteCategory('${category.id}')" class="text-red-500 hover:text-red-700">
                                <i class="fas fa-trash"></i>
                            </button>
                        ` : ''}
                    </div>
                `).join('');
            }

            updateHistoryList() {
                const container = document.getElementById('historyList');
                
                if (this.history.length === 0) {
                    container.innerHTML = '<p class="text-gray-500 text-center py-8">No notification history yet.</p>';
                    return;
                }
                
                container.innerHTML = this.history.slice().reverse().map(item => {
                    const category = this.categories.find(c => c.id === item.category);
                    return `
                        <div class="bg-white rounded-lg p-4 shadow-sm border">
                            <div class="flex items-center mb-1">
                                <div class="category-color" style="background-color: ${category?.color || '#3B82F6'}"></div>
                                <h3 class="font-semibold">${item.title}</h3>
                            </div>
                            <p class="text-gray-600 text-sm mb-2">${item.message}</p>
                            <div class="flex items-center justify-between">
                                <span class="text-xs text-gray-500">Sent: ${this.formatDate(item.sentAt)}</span>
                                <span class="text-xs px-2 py-1 rounded-full bg-green-100 text-green-800">Delivered</span>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            updateSettings() {
                document.getElementById('notificationToggle').checked = this.settings.notificationsEnabled;
                document.getElementById('soundToggle').checked = this.settings.soundEnabled;
                document.getElementById('vibrationToggle').checked = this.settings.vibrationEnabled;
                document.getElementById('defaultCategory').value = this.settings.defaultCategory;
                document.getElementById('defaultReminderTime').value = this.settings.defaultReminderTime;
            }

            updateNotificationBadge() {
                const badge = document.getElementById('notificationBadge');
                const activeCount = this.notifications.filter(n => n.status === 'active' || n.status === 'recurring').length;
                
                if (activeCount > 0) {
                    badge.textContent = activeCount;
                    badge.style.display = 'flex';
                } else {
                    badge.style.display = 'none';
                }
            }

            deleteCategory(id) {
                if (confirm('Are you sure you want to delete this category?')) {
                    this.categories = this.categories.filter(c => c.id !== id);
                    // Update notifications using this category to general
                    this.notifications.forEach(n => {
                        if (n.category === id) {
                            n.category = 'general';
                        }
                    });
                    this.saveCategories();
                    this.saveNotifications();
                    this.updateUI();
                    this.showToast('Category deleted');
                }
            }

            clearHistory() {
                if (confirm('Are you sure you want to clear all notification history?')) {
                    this.history = [];
                    this.saveHistory();
                    this.updateUI();
                    this.showToast('History cleared');
                }
            }

            exportData() {
                const data = {
                    notifications: this.notifications,
                    categories: this.categories,
                    settings: this.settings,
                    history: this.history,
                    exportDate: new Date().toISOString()
                };
                
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `notifypro-backup-${new Date().toISOString().split('T')[0]}.json`;
                a.click();
                URL.revokeObjectURL(url);
                this.showToast('Data exported successfully!');
            }

            importData() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            try {
                                const data = JSON.parse(e.target.result);
                                if (data.notifications && data.categories && data.settings) {
                                    this.notifications = data.notifications;
                                    this.categories = data.categories;
                                    this.settings = data.settings;
                                    this.history = data.history || [];
                                    this.saveAll();
                                    this.updateUI();
                                    this.showToast('Data imported successfully!');
                                } else {
                                    this.showToast('Invalid backup file format', 'error');
                                }
                            } catch (error) {
                                this.showToast('Error reading backup file', 'error');
                            }
                        };
                        reader.readAsText(file);
                    }
                };
                input.click();
            }

            clearAllData() {
                if (confirm('Are you sure you want to clear all data? This action cannot be undone.')) {
                    this.notifications = [];
                    this.categories = [
                        { id: 'general', name: 'General', color: '#3B82F6' },
                        { id: 'work', name: 'Work', color: '#10B981' },
                        { id: 'personal', name: 'Personal', color: '#F59E0B' },
                        { id: 'health', name: 'Health', color: '#EF4444' }
                    ];
                    this.settings = {
                        notificationsEnabled: true,
                        soundEnabled: true,
                        vibrationEnabled: true,
                        defaultCategory: 'general',
                        defaultReminderTime: 15
                    };
                    this.history = [];
                    this.scheduledNotifications.clear();
                    this.saveAll();
                    this.updateUI();
                    this.showToast('All data cleared');
                }
            }

            formatDate(dateString) {
                return new Date(dateString).toLocaleString();
            }

            getStatusColor(status) {
                switch (status) {
                    case 'active': return 'bg-green-100 text-green-800';
                    case 'paused': return 'bg-yellow-100 text-yellow-800';
                    case 'scheduled': return 'bg-blue-100 text-blue-800';
                    case 'completed': return 'bg-gray-100 text-gray-800';
                    case 'recurring': return 'bg-purple-100 text-purple-800';
                    default: return 'bg-gray-100 text-gray-800';
                }
            }

            showToast(message, type = 'success') {
                const toast = document.createElement('div');
                toast.className = `fixed top-4 right-4 z-50 p-4 rounded-lg text-white ${type === 'error' ? 'bg-red-500' : 'bg-green-500'}`;
                toast.textContent = message;
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }

            saveNotifications() {
                localStorage.setItem('notifications', JSON.stringify(this.notifications));
            }

            saveCategories() {
                localStorage.setItem('categories', JSON.stringify(this.categories));
            }

            saveSettings() {
                localStorage.setItem('settings', JSON.stringify(this.settings));
            }

            saveHistory() {
                localStorage.setItem('history', JSON.stringify(this.history));
            }

            saveAll() {
                this.saveNotifications();
                this.saveCategories();
                this.saveSettings();
                this.saveHistory();
            }
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.app = new NotificationApp();
        });
    </script>
</body>
</html>
